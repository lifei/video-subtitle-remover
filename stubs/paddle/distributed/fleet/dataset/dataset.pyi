from _typeshed import Incomplete
from paddle.base import core as core
from paddle.base.proto import data_feed_pb2 as data_feed_pb2

class DatasetBase:
    proto_desc: Incomplete
    dataset: Incomplete
    thread_num: int
    filelist: Incomplete
    use_ps_gpu: bool
    psgpu: Incomplete
    def __init__(self) -> None: ...
    def init(self, batch_size: int = 1, thread_num: int = 1, use_var=[], pipe_command: str = 'cat', input_type: int = 0, fs_name: str = '', fs_ugi: str = '', download_cmd: str = 'cat') -> None: ...
    def set_filelist(self, filelist) -> None: ...

class InMemoryDataset(DatasetBase):
    fleet_send_batch_size: Incomplete
    is_user_set_queue_num: bool
    queue_num: Incomplete
    parse_ins_id: bool
    parse_content: bool
    parse_logkey: bool
    merge_by_sid: bool
    enable_pv_merge: bool
    merge_by_lineid: bool
    fleet_send_sleep_seconds: Incomplete
    def __init__(self) -> None: ...
    def update_settings(self, **kwargs) -> None: ...
    def init(self, **kwargs) -> None: ...
    def set_date(self, date) -> None: ...
    def tdm_sample(self, tree_name, tree_path, tdm_layer_counts, start_sample_layer, with_hierachy, seed, id_slot) -> None: ...
    def load_into_memory(self, is_shuffle: bool = False) -> None: ...
    def preload_into_memory(self, thread_num: Incomplete | None = None) -> None: ...
    def wait_preload_done(self) -> None: ...
    def local_shuffle(self) -> None: ...
    def global_shuffle(self, fleet: Incomplete | None = None, thread_num: int = 12) -> None: ...
    def release_memory(self) -> None: ...
    def get_memory_data_size(self, fleet: Incomplete | None = None): ...
    def get_shuffle_data_size(self, fleet: Incomplete | None = None): ...
    def slots_shuffle(self, slots) -> None: ...

class QueueDataset(DatasetBase):
    def __init__(self) -> None: ...
    def init(self, **kwargs) -> None: ...

class FileInstantDataset(DatasetBase):
    def __init__(self) -> None: ...
    def init(self, **kwargs) -> None: ...

class BoxPSDataset(InMemoryDataset):
    boxps: Incomplete
    def __init__(self) -> None: ...
    def init(self, **kwargs) -> None: ...
    def set_date(self, date) -> None: ...
    def begin_pass(self) -> None: ...
    def end_pass(self, need_save_delta) -> None: ...
    def wait_preload_done(self) -> None: ...
    def load_into_memory(self) -> None: ...
    def preload_into_memory(self) -> None: ...
    def slots_shuffle(self, slots) -> None: ...
    def set_current_phase(self, current_phase) -> None: ...
    def get_pv_data_size(self): ...
    def preprocess_instance(self) -> None: ...
    def postprocess_instance(self) -> None: ...
